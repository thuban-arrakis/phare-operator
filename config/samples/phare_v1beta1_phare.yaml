apiVersion: phare.localcorp.internal/v1beta1
kind: Phare
metadata:
  labels:
    app.kubernetes.io/name: phare
    app.kubernetes.io/created-by: operator
  name: phare-sample
spec:
  microservice:
    image:
      repository: nginx
      tag: 1.19.6
    imagePullPolicy: IfNotPresent
    kind: StatefulSet
    replicaCount: 1
  toolchain:
    healthCheckPolicy:
      default:
        checkIntervalSec: 15
        config:
          httpHealthCheck:
            port: 80
            requestPath: /healthz
          type: HTTP
        healthyThreshold: 1
        logConfig:
          enabled: false
        timeoutSec: 15
        unhealthyThreshold: 2
      targetRef:
        group: ""
        kind: Service
        name: nginx
