apiVersion: phare.localcorp.internal/v1beta1
kind: Phare
metadata:
  labels:
    app.kubernetes.io/name: phare
    app.kubernetes.io/created-by: operator
  name: phare-sample
spec:
  microservice:
    image:
      repository: nginx
      tag: 1.19.6
    imagePullPolicy: IfNotPresent
    kind: StatefulSet
    replicaCount: 1
  # service:
  #   ports:
  #     - name: http
  #       port: 80
  #       targetPort: 80
  # toolchain:
  #   httpRoute:
  #     hostnames:
  #     - myapp.localcorp.internal
  #     parentRefs:
  #     - group: gateway.networking.k8s.io
  #       kind: Gateway
  #       name: external-http-gateway
  #       namespace: gateway-system
  #     rules:
  #     - backendRefs:
  #       - group: ""
  #         kind: Service
  #         name: myapp
  #         port: 8080
  #         weight: 1
  #       filters: []
  #       matches:
  #       - path:
  #           type: PathPrefix
  #           value: /
  # config:
  #   key: value
  #   config.js: |
  #     module.exports = {
  #       key: 'value'
  #     }
